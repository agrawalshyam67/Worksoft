<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Worksoft - Login</title>
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/styles.css" rel="stylesheet">
		<link rel="apple-touch-icon" sizes="57x57" href="images/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="images/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="images/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="images/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="images/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="images/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="images/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="images/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="images/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="images/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
        <link rel="manifest" href="images/manifest.json">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="images/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
		
		<!--Theme-->
		<link href="css/theme-default.css" rel="stylesheet">
		
		<!--Custom Font-->
		<link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
		
		<!--[if lt IE 9]>
		<script src="js/html5shiv.js"></script>
		<script src="js/respond.min.js"></script>
		<![endif]-->

	</head>
	<body>
		<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<div class="profile-userpic">
					    <img src="WorkSoftblank.png" width="20" alt="User Avatar" class="img-circle" />
				        </div>
					<a class="navbar-brand" href="#"><span>Work</span>Soft</a>
				</div>
			</div><!-- /.container-fluid -->
		</nav>
        <br>
		
				<div class="row">
				    
					<div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2 col-md-4 col-md-offset-4">
						<div class="login-panel panel panel-default">
							<div class="panel-heading">Log in</div>
							<div class="panel-body">
								<form role="form" method="POST">
									<fieldset>
										<div class="form-group">
											<input class="form-control" placeholder="Username" name="username" type="text" autofocus="" id="userID">
										</div>
										<div class="form-group">
											<input class="form-control" placeholder="Password" name="password" type="password" value="" id="userPass">
										</div>
										<div >
											<p>Not an User? <a href="register.html">Sign Up</a></p>
										</div>
										<div class="text-center">
											<button class="btn btn-lg btn-primary" id="studLogin" style="font-weight:bold;">Student Login</button><br>
											<button class="btn btn-lg btn-primary" id="ProfLogin" style="font-weight:bold;">Professor Login</button>
										</div><br>
										<div id="loginStatus" style="color:red;font-size: 20px;" align="center"></div>
									</fieldset>
								</form>
							</div>
						</div>
					</div><!-- /.col-->
				</div><!-- /.row -->	
			
		
	
		<script src="js/jquery-1.11.1.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script type="text/javascript">
			
			document.getElementById('studLogin').addEventListener('click', sendStudLogin);
			document.getElementById('ProfLogin').addEventListener('click', sendProfLogin);

			function sendStudLogin(e)
            {
                e.preventDefault();
                
                var username = document.getElementById('userID').value;
                var password = document.getElementById('userPass').value;
                var userInfo = "user="+username+"&pass="+password;

                
                
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function()
                { if(this.readyState == 4 && this.status == 200)
                    {
                        document.getElementById("loginStatus").innerHTML = this.responseText;
                       
                        // console.log(this.responseText);
                      
                    }
                }

                xhttp.open('POST', 'login.php', true);
                xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xhttp.send(userInfo);
            }

            function sendProfLogin(e)
            {
                e.preventDefault();
                
                var username = document.getElementById('userID').value;
                var password = document.getElementById('userPass').value;
                var userInfo = "user="+username+"&pass="+password;

                
                
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function()
                { if(this.readyState == 4 && this.status == 200)
                    {
                        document.getElementById("loginStatus").innerHTML = this.responseText;
                       
                        // console.log(this.responseText);
                      
                    }
                }

                xhttp.open('POST', 'prLogin.php', true);
                xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                xhttp.send(userInfo);
            }


		</script>
	</body>
</html>
